{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"Could not create list of genresCould not create list of genres","stack":"Error: Could not create list of genres\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:17:11)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:27)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:27)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:23:9)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:23:9)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"level":"error","message":"mongoose is not definedmongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at Object.<anonymous>.router.get (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\project_vidly\\routes\\genres.js:22:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at Route.dispatch (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\route.js:112:3)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:281:22\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:354:14)\n    at param (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:410:3)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at router (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at jsonParser (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\body-parser\\lib\\types\\json.js:110:7)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at expressInit (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at query (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\middleware\\query.js:45:5)\n    at newFn (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:317:13)\n    at Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:284:7\n    at Function.process_params (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:335:12)\n    at next (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:275:10)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\router\\index.js:174:3)\n    at Function.handle (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\application.js:174:10)\n    at Server.app (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\express\\lib\\express.js:39:9)\n    at Server.emit (events.js:198:13)\n    at parserOnIncoming (_http_server.js:677:12)\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
{"message":"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"","name":"CastError","stringValue":"\"1\"","kind":"ObjectId","value":"1","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"1\" at path \"_id\" for model \"Genre\"\n    at new CastError (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\error\\cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schema\\objectid.js:246:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:969:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1383:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1373:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\schematype.js:1352:15)\n    at cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\cast.js:313:32)\n    at model.Query.Object.<anonymous>.Query.cast (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:4644:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:1842:10)\n    at model.Query.<anonymous> (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\query.js:2097:8)\n    at model.Query._wrappedThunk [as _findOne] (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\mongoose\\lib\\helpers\\query\\wrapThunk.js:16:8)\n    at process.nextTick (Q:\\YandexDisk\\Practice\\Nodejs\\JS_Nodejs-practice\\node_modules\\kareem\\index.js:369:33)\n    at process._tickCallback (internal/process/next_tick.js:61:11)"}
{"message":"Listening on port 3001...","level":"info"}
{"message":"Connected to mongodb://localhost/vidli_tests...","level":"info"}
